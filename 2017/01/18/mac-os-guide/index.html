<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="杂谈," />





  <link rel="alternate" href="/atom.xml" title="JasonThink's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="正确使用 Mac 的姿势">
<meta property="og:type" content="article">
<meta property="og:title" content="正确使用 Mac 的姿势">
<meta property="og:url" content="http://hujiandong.com/2017/01/18/mac-os-guide/index.html">
<meta property="og:site_name" content="JasonThink's Blog">
<meta property="og:description" content="正确使用 Mac 的姿势">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2016/11/29/44a17b11718e7fb3f5ccf45baa46dc18.jpg">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2016/11/29/2fb907101c8efd0ecf0d3b79049d91d5.png">
<meta property="og:image" content="http://7xnilf.com1.z0.glb.clouddn.com/dash.png">
<meta property="og:image" content="http://cdn.macrumors.com/article-new/2016/03/Ulysses-app-800x444.jpg">
<meta property="og:image" content="http://7xnilf.com1.z0.glb.clouddn.com/manico.png">
<meta property="og:image" content="http://7xnilf.com1.z0.glb.clouddn.com/clippan.png">
<meta property="og:updated_time" content="2017-01-18T02:46:53.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="正确使用 Mac 的姿势">
<meta name="twitter:description" content="正确使用 Mac 的姿势">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2016/11/29/44a17b11718e7fb3f5ccf45baa46dc18.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://hujiandong.com/2017/01/18/mac-os-guide/"/>





  <title>正确使用 Mac 的姿势 | JasonThink's Blog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?bce6c38410e11063877362ffaf8f9bdb";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>











  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JasonThink's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://hujiandong.com/2017/01/18/mac-os-guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JasonThink">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/5361486?v=3&s=460">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JasonThink's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">正确使用 Mac 的姿势</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-01-18T10:33:33+08:00">
                2017-01-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">杂谈</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a class="cloud-tie-join-count" href="/2017/01/18/mac-os-guide/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count join-count" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/01/18/mac-os-guide/" class="leancloud_visitors" data-flag-title="正确使用 Mac 的姿势">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          
              <div class="post-description">
                  正确使用 Mac 的姿势
              </div>
          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>不像很多达人上大学或者更早时间就开始就使用 Mac， 我从15年12月份才开始用，到现在已经有一年多时间。Mac 现在成为我的御用电脑， 当然工作中我还没有完全切换到 Mac 上来，主要开发还在用 Ubuntu 进行开发。和 Ubuntu 一样它们都用相同的特点：</p>
<ul>
<li>没有右下角弹窗的打扰，没有流氓软件，能让你注意力更集中。</li>
<li>强大的终端操作。</li>
</ul>
<p>当然它更有别的操作系统不具备的—精美的UI设计和触摸板。如果你还没有， 那么你值得拥有，不过 New MacBook proc 的设计我不是很喜欢，可能我的审美还不到苹果设计师的 level。如果你为了打游戏就算了， 当然 Window 是你的唯一选择。 </p>
<p>下面我们说说 Mac OS X 下常用的软件及快捷键, 当然如果你想达到更正确的姿势，配着多屏和机械键盘就更佳。</p>
<h2 id="常用软件"><a href="#常用软件" class="headerlink" title="常用软件"></a>常用软件</h2><p><strong>Alfred</strong><br>Alfred 是一个非常强大的效率工具。快捷键呼出search框，输入你想找的任何东西得首字母或者前几位、缩写，然后上下方向键找到你的目标，回车就行。 还可以定在快捷键。<br><img src="https://user-gold-cdn.xitu.io/2016/11/29/44a17b11718e7fb3f5ccf45baa46dc18.jpg" alt=""><br><img src="https://user-gold-cdn.xitu.io/2016/11/29/2fb907101c8efd0ecf0d3b79049d91d5.png" alt=""></p>
<blockquote>
<p>Alfred3<br><a href="https://www.alfredapp.com/" target="_blank" rel="external">https://www.alfredapp.com/</a></p>
</blockquote>
<p><strong>iTerm</strong><br>专为 Mac OS 用户打造的命令行应用, 以前我还专门介绍过它， 有兴趣的可以看一下原文 <a href="http://hujiandong.com/2016/09/11/iterm2/">打造最强终端-iTerm 2</a>。</p>
<p><strong>Dash</strong><br>非常强大的文档查看器。<br>当你写东西的时候可能会同时用到好几个文档。Dash帮你管理你的文档。不用再切窗口了！<br>所有的文档都可以下载到本地，再不用忍受蜗牛速度去看国外的文档了， 我以前用来看 Android 文档。<br><img src="http://7xnilf.com1.z0.glb.clouddn.com/dash.png" alt=""></p>
<p><strong>Ulysses</strong><br>Ulysses 是我用过最好的写作软件，我在上面写出了近五万的文字。它的特点是：</p>
<ul>
<li>全平台支持</li>
<li>沉浸式写作</li>
<li>搜索功能</li>
</ul>
<p><img src="http://cdn.macrumors.com/article-new/2016/03/Ulysses-app-800x444.jpg" alt=""><br><strong> Manico</strong><br>在 OS X 下，我们想要启动或切换应用时，通常有以下三个选择：</p>
<ul>
<li>对于常用应用，将鼠标光标移动到屏幕下方打开 Dock 栏，从中选择需要启动或切换的应用打开；</li>
<li>对于已经启动的应用，按下「Command + Tab」呼出切换器，按 Tab 键或使用鼠标选择需要切换的应用打开；</li>
<li>对于既没有放在 Dock 栏也没有启动的应用，可以通过 Launchpad 或 Spotlight 搜索应用打开。</li>
</ul>
<p>对于习惯使用键盘的「效率党」而言，上面的几种方式并不够高效。有没有什么办法，可以整合这三种方式，并通过快捷键组合便能实现快速应用启动和切换呢？Manico 的出现为「效率党」提供了一个简单、易用、高效的快速启动和切换 App 的方式。</p>
<p>下图是我的快捷键配置：<br><img src="http://7xnilf.com1.z0.glb.clouddn.com/manico.png" alt=""><br><strong> Clyppan</strong><br>OS X 系统的剪切板默认只保存最后一次复制或是剪切的内容，所以你想粘贴前几次复制的内容时…不好意思，再切过去、选择、复制一遍。</p>
<p>我以前经常遇到这样的场景， 直到有一天看到大和童鞋使用 Clyppan 以后， 妈妈再也不用担心重复拷贝了。</p>
<p><img src="http://7xnilf.com1.z0.glb.clouddn.com/clippan.png" alt=""></p>
<p><strong>Hammerspoon</strong><br>有没有使用多屏的用户， 一般程序员和设计喜欢用多屏， 其实条件容许， 每个人都应该多配一个屏， 能很大提升我们的工作效率。</p>
<p>Hammerspoon 是一个多屏幕窗口管理软件，首先它是开源的，其次使用 Lua 脚本作为配置文件。</p>
<p>[<a href="http://www.hammerspoon.org/" target="_blank" rel="external">http://www.hammerspoon.org/</a>]</p>
<p><strong>awesome-mac</strong><br>这是一个 Github 项目，主要是收集非常好用的Mac应用程序、软件以及工具，主要面向开发者和设计师。</p>
<blockquote>
<p>[<a href="https://github.com/jaywcjlove/awesome-mac" target="_blank" rel="external">https://github.com/jaywcjlove/awesome-mac</a>]</p>
</blockquote>
<p>当然还有文本编辑器， 网友很多推荐 Atom 或 Sublime Text，不过我没有用过， 因为我用 emacs，选一个自己喜欢的就行。</p>
<h2 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h2><blockquote>
<p>Command + C， Command + V，Command + A ：这几个大家都知道，不过尽量别用在代码拷贝上。<br>Command + Delete ： 删除当前行。选中文件的时候直接删除文件。<br>shift+方向键 ： 这个在选择文本的时候很有用，可以选择单个字符或者整行，多使用才能找到手感。<br>Command + Shift + 左右方向键：这个可以快速选择当前行，用的也很多<br>Control + A：跑到当前行的最前端，使用频次很高<br>Control + E：跑到当前行的最尾端，使用频次很高，还有 B、F 光标向前移动和向后移动<br>Command + TAB：切换应用，这是大部分人用的最多的方式，却不是最高效的方式，后面会介绍其他方式<br>Command +` : 切换同一应用的窗口，这个非常实用。比如打开多个 Android Studio 工程的情况下，快速的在不同项目之间切换。 Finder，Firefox等场景下都支持<br>Command + W：关闭当前窗口，后面会介绍其他方式，同样高效<br>Command + Q：关闭当前应用<br>Command + N：新建窗口，比如打开新的Finder窗口，配合cmd+w很实用<br>Command + I : 显示当前文件的信息，查看文件大小，图片宽高的时候有用<br>选中文件按空格预览：预览图片或者pdf文件时有用。配合方向键可以快速预览多张图片<br>Command + F：查找， Command + G 查找下一个； Command +Shift + G 向上查找<br>Control + Command + D：英文单词，完成取词翻译</p>
</blockquote>
<h3 id="浏览器相关"><a href="#浏览器相关" class="headerlink" title="浏览器相关"></a>浏览器相关</h3><blockquote>
<p>Command + T ： 这是基本全局打开新标签的标准键，会用的很多<br>Command + L ：光标移到地址框<br>Command + R ：刷新页面<br>Command + + ：大屏幕的时候很实用，放大页面，基本也是全局型的。 0是恢复默认大小<br>Command + W ： 关闭当前标签。不要和退出按错了<br>Command + Q ：退出当前软件，其他软件也都可以用<br>Command + D ：收藏当前页面<br>空格 ： 屏幕下滚一页<br>Command + Z ：Safari的恢复刚关闭标签就是熟悉的<br>Command + Shift + T：Chrome是和打开差不多的，Chrome这个功能更强大，就是可以按顺序恢复，但是Safari只能恢复最近的一个。这个功能我一直用，经常手抖关闭的一瞬间发现有用。</p>
</blockquote>
<p>当然如果你是 Vim 「中毒」党你也可以在 Chrome 上装上插件， 反正我是装了，不过很少用。</p>
<p>最后送自己和大家一些话， 当然做上面的事你首先有一台 Mac：</p>
<blockquote>
<p>If you’re interested, you come up with stories, excuses, reasons, and circumstances about why you can’t or why you won’t. If you’re committed, those go out the window. You just do whatever it takes.</p>
</blockquote>
<p><strong>PS</strong>：<br>又到了春运时间了， 你们需要回到父母身边吗？是不是还有人没有买到票的？今年要去我媳妇那边过年，正好今年公司年会在外地开， 开完以后就放假了，终于今年可以早点回去了。</p>

      
    </div>

    <div>
      
        
<div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/wechat-qcode.jpg" alt="JasonThink wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div>
</div>


      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/杂谈/" rel="tag"># 杂谈</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/18/programer-book/" rel="next" title="程序员最应该读的书">
                <i class="fa fa-chevron-left"></i> 程序员最应该读的书
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/14/happy-valentines-2017/" rel="prev" title="写给我心中的她">
                写给我心中的她 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars0.githubusercontent.com/u/5361486?v=3&s=460"
               alt="JasonThink" />
          <p class="site-author-name" itemprop="name">JasonThink</p>
           
              <p class="site-description motion-element" itemprop="description">胡建东的个人站点</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">77</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/jasonim" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#常用软件"><span class="nav-number">1.</span> <span class="nav-text">常用软件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用快捷键"><span class="nav-number">2.</span> <span class="nav-text">常用快捷键</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#浏览器相关"><span class="nav-number">2.1.</span> <span class="nav-text">浏览器相关</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JasonThink</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user">本站访客数</i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye">本站总访问量</i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      人
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  
    
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "5edce61c5695413c9e9da1f126bd0cc7",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
  










  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("H9mD0w4jrikMi4iHPcVvTycJ-gzGzoHsz", "B504ioHpQDe9l3EdrNc3xAue");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

</body>
</html>
